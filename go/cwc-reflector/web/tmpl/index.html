{{block "title" .}}{{.HostAndPort}}{{end}}

{{block "content" .}}
    <h1>CWC Reflector: {{.HostAndPort}}</h1>
        <div class="container-fluid">
            <h2>Channels</h2>
            <table class="table table-striped table-hover">
                <thead class="thead-dark">
                <th>Channel</th>
                <th>Subscribers</th>
                </thead>
                <tbody>

            {{range $n, $c := $.Channels}}
                <tr onclick="window.location='/channels/{{$n}}'">
                    <td>{{$n}}</td>
                    <td>{{len $c.Subscribers}}</td>
                </tr>
            {{else}}
                <tr><td colspan="2">No channels with listeners!</td></tr>
            {{end}}
                </tbody>
            </table>
        </div>
{{end}}

